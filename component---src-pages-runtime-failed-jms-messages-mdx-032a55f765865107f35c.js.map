{"version":3,"sources":["webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.js","webpack:///./node_modules/gatsby-theme-carbon/src/templates/Default.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.module.scss","webpack:///./src/pages/runtime/failed_jms_messages.mdx"],"names":["PageHeader","title","tabs","className","cx","pageHeader","withTabs","length","id","text","EditLink","relativePagePath","repositoryProp","repository","site","siteMetadata","baseUrl","subDirectory","href","branch","row","link","PageTabs","render","this","props","slug","currentTab","split","filter","Boolean","slice","pageTabs","map","tab","slugifiedTab","slugify","lower","strict","selected","currentTabRegex","RegExp","replace","key","selectedItem","listItem","to","tabsContainer","list","React","Component","Default","pageContext","children","location","Title","frontmatter","titleType","theme","description","keywords","pathPrefix","pathname","Layout","homepage","pageTitle","pageDescription","pageKeywords","label","Main","padded","NextPrevious","Utils","module","exports","_frontmatter","makeShortcode","name","console","warn","Caption","InlineNotification","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","kind","isMDXComponent"],"mappings":"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","file":"component---src-pages-runtime-failed-jms-messages-mdx-032a55f765865107f35c.js","sourcesContent":["import PageHeader from './PageHeader';\n\nexport default PageHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { pageHeader, withTabs, text } from './PageHeader.module.scss';\n\nconst PageHeader = ({ title, tabs = [] }) => (\n  <div className={cx(pageHeader, { [withTabs]: tabs.length })}>\n    <div className=\"bx--grid\">\n      <div className=\"bx--row\">\n        <div className=\"bx--col-lg-12\">\n          <h1 id=\"page-title\" className={text}>\n            {title}\n          </h1>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nPageHeader.propTypes = {\n  /**\n   * Specify the title for the page\n   */\n  title: PropTypes.node,\n};\n\nexport default PageHeader;\n","import EditLink from './EditLink';\n\nexport default EditLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { graphql, useStaticQuery } from 'gatsby';\n\nimport { link, row } from './EditLink.module.scss';\n\nconst EditLink = ({ relativePagePath, repository: repositoryProp }) => {\n  const {\n    site: {\n      siteMetadata: { repository },\n    },\n  } = useStaticQuery(graphql`\n    query REPOSITORY_QUERY {\n      site {\n        siteMetadata {\n          repository {\n            baseUrl\n            subDirectory\n            branch\n          }\n        }\n      }\n    }\n  `);\n\n  const { baseUrl, subDirectory, branch } = repositoryProp || repository;\n\n  const href = `${baseUrl}/edit/${branch}${subDirectory}/src/pages${relativePagePath}`;\n\n  return baseUrl ? (\n    <div className={`bx--row ${row}`}>\n      <div className=\"bx--col\">\n        <a className={link} href={href}>\n          Edit this page on GitHub\n        </a>\n      </div>\n    </div>\n  ) : null;\n};\n\nEditLink.propTypes = {\n  repository: PropTypes.shape({\n    baseUrl: PropTypes.string,\n    subDirectory: PropTypes.string,\n    branch: PropTypes.string,\n  }),\n  relativePagePath: PropTypes.string,\n};\n\nexport default EditLink;\n","import PageTabs from './PageTabs';\n\nexport default PageTabs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'gatsby';\nimport slugify from 'slugify';\nimport cx from 'classnames';\n\nimport {\n  tabsContainer,\n  list,\n  selectedItem,\n  listItem,\n  link,\n} from './PageTabs.module.scss';\n\nexport default class PageTabs extends React.Component {\n  render() {\n    const { tabs, slug } = this.props;\n    const currentTab = slug.split('/').filter(Boolean).slice(-1)[0];\n\n    const pageTabs = tabs.map((tab) => {\n      const slugifiedTab = slugify(tab, { lower: true, strict: true });\n      const selected = slugifiedTab === currentTab;\n      // matches with or without trailing slash: /?\n      // matches with or without hash link: (#.*)?\n      const currentTabRegex = new RegExp(`${currentTab}/?(#.*)?$`);\n      const href = slug.replace(currentTabRegex, slugifiedTab);\n      return (\n        <li key={tab} className={cx({ [selectedItem]: selected }, listItem)}>\n          <Link className={link} to={`${href}`}>\n            {tab}\n          </Link>\n        </li>\n      );\n    });\n\n    return (\n      <div className={tabsContainer}>\n        <div className=\"bx--grid\">\n          <div className=\"bx--row\">\n            <div className=\"bx--col-lg-12 bx--col-no-gutter\">\n              <nav>\n                <ul className={list}>{pageTabs}</ul>\n              </nav>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nPageTabs.propTypes = {\n  tabs: PropTypes.array,\n  slug: PropTypes.string,\n};\n","import React from 'react';\nimport slugify from 'slugify';\nimport { useStaticQuery, graphql } from 'gatsby';\n\nimport Utils from '../components/Utils';\nimport Layout from '../components/Layout';\nimport PageHeader from '../components/PageHeader';\nimport EditLink from '../components/EditLink';\nimport NextPrevious from '../components/NextPrevious';\nimport PageTabs from '../components/PageTabs';\nimport Main from '../components/Main';\n\nconst Default = ({ pageContext, children, location, Title }) => {\n  const { frontmatter = {}, relativePagePath, titleType } = pageContext;\n  const { tabs, title, theme, description, keywords } = frontmatter;\n\n  // get the path prefix if it exists\n  const {\n    site: { pathPrefix },\n  } = useStaticQuery(graphql`\n    query PATH_PREFIX_QUERY {\n      site {\n        pathPrefix\n      }\n    }\n  `);\n\n  // let gatsby handle prefixing\n  const slug = pathPrefix\n    ? location.pathname.replace(pathPrefix, '')\n    : location.pathname;\n\n  const getCurrentTab = () => {\n    if (!tabs) return '';\n    return (\n      slug.split('/').filter(Boolean).slice(-1)[0] ||\n      slugify(tabs[0], { lower: true })\n    );\n  };\n\n  const currentTab = getCurrentTab();\n\n  return (\n    <Layout\n      tabs={tabs}\n      homepage={false}\n      theme={theme}\n      pageTitle={title}\n      pageDescription={description}\n      pageKeywords={keywords}\n      titleType={titleType}>\n      <PageHeader title={Title ? <Title /> : title} label=\"label\" tabs={tabs} />\n      {tabs && <PageTabs slug={slug} tabs={tabs} currentTab={currentTab} />}\n      <Main padded>\n        {children}\n        <EditLink relativePagePath={relativePagePath} />\n      </Main>\n      <NextPrevious\n        pageContext={pageContext}\n        location={location}\n        slug={slug}\n        tabs={tabs}\n        currentTab={currentTab}\n      />\n      <Utils />\n    </Layout>\n  );\n};\n\nexport default Default;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"EditLink-module--bx--text-truncate--end--2pqje\",\"bxTextTruncateFront\":\"EditLink-module--bx--text-truncate--front--3_lIE\",\"link\":\"EditLink-module--link--1qzW3\",\"row\":\"EditLink-module--row--1B9Gk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageTabs-module--bx--text-truncate--end--267NA\",\"bxTextTruncateFront\":\"PageTabs-module--bx--text-truncate--front--3xEQF\",\"tabsContainer\":\"PageTabs-module--tabs-container--8N4k0\",\"list\":\"PageTabs-module--list--3eFQc\",\"listItem\":\"PageTabs-module--list-item--nUmtD\",\"link\":\"PageTabs-module--link--1mDJ1\",\"selectedItem\":\"PageTabs-module--selected-item--YPVr3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageHeader-module--bx--text-truncate--end--mZWeX\",\"bxTextTruncateFront\":\"PageHeader-module--bx--text-truncate--front--3zvrI\",\"pageHeader\":\"PageHeader-module--page-header--3hIan\",\"withTabs\":\"PageHeader-module--with-tabs--3nKxA\",\"text\":\"PageHeader-module--text--o9LFq\"};","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/travis/build/IBM/spm-kubernetes/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst Caption = makeShortcode(\"Caption\");\nconst InlineNotification = makeShortcode(\"InlineNotification\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h2>{`Introduction`}</h2>\n    <p>{`It would be unusual for JMS processing to fail; but, if messages do fail that is why we define retry counts and error and dead message queues.\nThere are broadly two contexts for JMS failures:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Message production: messages to MQ from Liberty.`}</li>\n      <li parentName=\"ul\">{`Message consumption: message processing in Liberty for messages from MQ.`}</li>\n    </ul>\n    <h2>{`Message production failures`}</h2>\n    <p>{`If the production of a JMS message fails, a Java exception is thrown in Liberty (shown in the application server logs), the transaction fails, and the message is never processed by MQ.`}</p>\n    <p>{`For example, if an MQ queue fills up you would see the following exception in the chain of stack. This points back to the issue in MQ and other related exceptions would identify the failing queue.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`traces in the WebSphere Liberty log files:\nCaused by: com.ibm.mq.MQException: JMSCMQ0001:\nIBM MQ call failed with compcode '2' ('MQCC_FAILED') reason '2053' ('MQRC_Q_FULL').\n`}</code></pre>\n    <h2>{`Message consumption failures`}</h2>\n    <p>{`The JMS configuration for IBM® Cúram Social Program Management (SPM) specifies a hierarchy of queues, from the normal queue, to an error queue, and finally to the dead message queue.\nFigure 1 illustrates this flow of JMS messages for SPM.`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"701px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"60.06944444444444%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABuklEQVQoz3VRa3ObMBDk//+hNk1jsDutST8kHRswdmzzRlDzksGgt6oQt6aZdufmZoR2b0+LtotdJ7HsyHJi6wXs6rru+/6Q761o5cS2HVsHsIcN7PpuB7aKtolsxQxyX33UnNR+PJr6Sl/ulxZY53nGOHMyW1/P5pbxxV2so1VZlJhhK1vN7bmx1s2juU03VVlpcRnGMAxKL6r9pIm7rhNC5G0W1oFfeKqDJhn6nnMKzklQ+UHhRU34s8nQgDSEkJQSIyy4kH+DM44Qvh25UDQpbjStv0Aph0tXMtIKNnDOp3pChhbmajhnl3OTK//prdYXzwIuz4nBqm+0eaqq6rd+dMCAnBYw1rvU4LVZlwnGN702lD8kfKwindWmEhfFSVwXGzsCpPxaBjOlF/B7dQoxmYj7rpa8ZRTiS8HImRDy+qprqQmUolqVFJ2gLcaIT6LRVGhvLpS+xjN9s1oBYYIw5UK+D/O69tCPNCbGuGEctVsX+R46Hip3Q4ZhnMKvpXwn0Cilf3xU77YuuPuQ3H9K7z8WC0OMP/J/0HzfBwCkCkkC8jx4fjo+fPYM/TB78BZGEgTp2+2/8AsJH6KCxknvmQAAAABJRU5ErkJggg==')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<picture parentName=\"span\">{`\n        `}<source parentName=\"picture\" {...{\n          \"srcSet\": [\"/spm-kubernetes/static/ea47a9161e1e20957d4a5ed2b528902d/0eda2/curam_jmsqueue_message_flow.webp 288w\", \"/spm-kubernetes/static/ea47a9161e1e20957d4a5ed2b528902d/460e2/curam_jmsqueue_message_flow.webp 576w\", \"/spm-kubernetes/static/ea47a9161e1e20957d4a5ed2b528902d/178f4/curam_jmsqueue_message_flow.webp 701w\"],\n          \"sizes\": \"(max-width: 701px) 100vw, 701px\",\n          \"type\": \"image/webp\"\n        }}></source>{`\n        `}<source parentName=\"picture\" {...{\n          \"srcSet\": [\"/spm-kubernetes/static/ea47a9161e1e20957d4a5ed2b528902d/7fc1e/curam_jmsqueue_message_flow.png 288w\", \"/spm-kubernetes/static/ea47a9161e1e20957d4a5ed2b528902d/a5df1/curam_jmsqueue_message_flow.png 576w\", \"/spm-kubernetes/static/ea47a9161e1e20957d4a5ed2b528902d/ed6d3/curam_jmsqueue_message_flow.png 701w\"],\n          \"sizes\": \"(max-width: 701px) 100vw, 701px\",\n          \"type\": \"image/png\"\n        }}></source>{`\n        `}<img parentName=\"picture\" {...{\n          \"className\": \"gatsby-resp-image-image\",\n          \"src\": \"/spm-kubernetes/static/ea47a9161e1e20957d4a5ed2b528902d/ed6d3/curam_jmsqueue_message_flow.png\",\n          \"alt\": \"SPM on Kubernetes - Cúram JMS queue message flow\",\n          \"title\": \"SPM on Kubernetes - Cúram JMS queue message flow\",\n          \"loading\": \"lazy\",\n          \"style\": {\n            \"width\": \"100%\",\n            \"height\": \"100%\",\n            \"margin\": \"0\",\n            \"verticalAlign\": \"middle\",\n            \"position\": \"absolute\",\n            \"top\": \"0\",\n            \"left\": \"0\"\n          }\n        }}></img>{`\n      `}</picture>{`\n    `}</span>\n    <Caption mdxType=\"Caption\">\n      <p><em parentName=\"p\">{`Figure 1:`}</em>{` Cúram JMS queue message flow`}</p>\n    </Caption>\n    <p>{`JMS messages are usually handled within one of the three queues: `}<inlineCode parentName=\"p\">{`DPEnactment`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`WorkflowEnactment`}</inlineCode>{`, or `}<inlineCode parentName=\"p\">{`WorkflowActivity`}</inlineCode>{`; and, if necessary, are given up to five retry attempts, which is a configurable value in MQ `}<inlineCode parentName=\"p\">{`(BOTHRESH(5))`}</inlineCode>{`.`}</p>\n    <p>{`Should the message not succeed at that point it is routed to its associated error or exception queue as shown in the diagram: `}<inlineCode parentName=\"p\">{`DPEnactment`}</inlineCode>{` to `}<inlineCode parentName=\"p\">{`DPError`}</inlineCode>{`, and `}<inlineCode parentName=\"p\">{`WorkflowEnactment`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`WorkflowActivity`}</inlineCode>{` to `}<inlineCode parentName=\"p\">{`WorkflowError`}</inlineCode>{`.`}</p>\n    <p>{`At this point, SPM or custom error processing can take over, depending on the message type and your configuration.  Similarly, the error queues are defined to retry up to five times.`}</p>\n    <p>{`Should the error queue processing fail the message is finally routed to the `}<inlineCode parentName=\"p\">{`CuramDeadMessageQueue`}</inlineCode>{`, specified as the MQ dead letter queue.\nThe message will stay until you either resend it to its originating queue or delete it, and how to do that is the subject of this document.`}</p>\n    <p>{`Normally your only concern with respect to JMS message failures is what ends up in the dead message queue, since that represents work that should be processed but wasn’t.`}</p>\n    <p>{`However, there are some error queue interventions that may be necessary, which are outside the scope of this document.\nFor instance, Cúram Express Rules processing will transfer messages routed to the JMS error queue to batch as discussed in `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.ibm.com/support/knowledgecenter/SS8S5A_7.0.10/com.ibm.curam.content.doc/CERReference/c_CERREF_Dependency1DependencyManagerDeferredProcessing1.html\"\n      }}>{`Dependency Manager deferred processing`}</a>{`.`}</p>\n    <p>{`You should monitor the dead message queue in MQ, `}<inlineCode parentName=\"p\">{`QN.CURAMDEADMESSAGEQUEUE`}</inlineCode>{`, to ensure that messages are not failing to be processed, which should also be evidenced by Java exceptions in the Liberty logs and a non-zero queue depth in MQ.\nFor instance, this MQSC command displays the current queue depth for the dead message queue:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`DISPLAY QUEUE(QN.CURAMDEADMESSAGEQUEUE) CURDEPTH\n`}</code></pre>\n    <p>{`There are a number of options for processing messages from `}<inlineCode parentName=\"p\">{`QN.CURAMDEADMESSAGEQUEUE`}</inlineCode>{`, provided by two MQ commands:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`The queue load and unload command: `}<a parentName=\"li\" {...{\n          \"href\": \"https://www.ibm.com/support/knowledgecenter/SSFKSJ_9.1.0/com.ibm.mq.ref.adm.doc/q117660_.htm\"\n        }}>{`dmpmqmsg`}</a></li>\n      <li parentName=\"ul\">{`The run dead-letter queue handler command: `}<a parentName=\"li\" {...{\n          \"href\": \"https://www.ibm.com/support/knowledgecenter/SSFKSJ_9.1.0/com.ibm.mq.ref.adm.doc/q083420_.htm\"\n        }}>{`runmqdlq`}</a></li>\n    </ul>\n    <p>{`Important points to remember:`}</p>\n    <InlineNotification kind=\"info\" mdxType=\"InlineNotification\">\n      <p><strong parentName=\"p\">{`Note:`}</strong>{` When processing messages from `}<inlineCode parentName=\"p\">{`QN.CURAMDEADMESSAGEQUEUE`}</inlineCode>{` you need to be aware of the original queue that the message was targeted to.\nThat is, messages from multiple queues can be routed to `}<inlineCode parentName=\"p\">{`QN.CURAMDEADMESSAGEQUEUE`}</inlineCode>{` and routing those messages incorrectly will result in additional errors. The dmpmqmsg command provides filtering options and runmqdlg provides a rules table.`}</p>\n    </InlineNotification>\n    <InlineNotification kind=\"info\" mdxType=\"InlineNotification\">\n      <p>{`Messages are processed as they arrive, with the exception of the dead message queue.\nThat is, if you load messages from `}<inlineCode parentName=\"p\">{`QN.CURAMDEADMESSAGEQUEUE`}</inlineCode>{` into another queue and they fail again you can end up with duplicate messages, which can be confusing and error-prone to resolve.\nTherefore, it is recommended that you clear the dead message queue before processing its contents.`}</p>\n    </InlineNotification>\n    <h3>{`Dead Letter Messages example`}</h3>\n    <p>{`This is a simple example illustrating the processing of dead letter messages:`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Unload the messages from the queue; for example, from the `}<inlineCode parentName=\"p\">{`QN.CURAMDEADMESSAGEQUEUE`}</inlineCode>{` queue in Queue Manager QM1:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`$MQ_INSTALLATION_PATH/dmpmqmsg -m QM1 -i QN.CURAMDEADMESSAGEQUEUE -f dead_messages.mq\n`}</code></pre>\n        <p parentName=\"li\">{`  This command would copy all the message on the queue into the specified file.`}</p>\n        <p parentName=\"li\">{`  Replacing the `}<inlineCode parentName=\"p\">{`-i`}</inlineCode>{` option with `}<inlineCode parentName=\"p\">{`-I`}</inlineCode>{` would move the messages, leaving the queue empty.`}</p>\n        <p parentName=\"li\">{`  To selectively process messages you can use the search option (-s) to selectively process messages; for instance`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`$MQ_INSTALLATION_PATH/dmpmqmsg -m QM1 -I QN.CURAMDEADMESSAGEQUEUE -s QN.DPENACTMENT  -dA -f DPENACTMENT.mq\n$MQ_INSTALLATION_PATH/dmpmqmsg -m QM1 -I QN.CURAMDEADMESSAGEQUEUE -s QN.WORKFLOWENACTMENT  -dA -f WORKFLOWENACTMENT.mq\n`}</code></pre>\n        <p parentName=\"li\">{`  This would move the messages from the `}<inlineCode parentName=\"p\">{`QN.CURAMDEADMESSAGEQUEUE`}</inlineCode>{` into the specified files based on the filter.\nYou could then use the `}<inlineCode parentName=\"p\">{`DISPLAY QUEUE(QN.CURAMDEADMESSAGEQUEUE) CURDEPTH`}</inlineCode>{` command to confirm that all messages are accounted for.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`If you didn’t use the `}<inlineCode parentName=\"p\">{`-I`}</inlineCode>{` option (or, optionally the `}<inlineCode parentName=\"p\">{`-p`}</inlineCode>{` option) when running the dmpmqmsg command to clear the dead message queue as its contents were processed you should do that now using the MQSC command; for instance:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`CLEAR QLOCAL (QN.CURAMDEADMESSAGEQUEUE)\n`}</code></pre>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Once the original problem is resolved that caused the errors, reload the messages.  For instance, using the previous filtered example:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`$MQ_INSTALLATION_PATH/dmpmqmsg -m QM1 -o QN.DPENACTMENT -f DPENACTMENT.mq\n$MQ_INSTALLATION_PATH/dmpmqmsg -m QM1 -I QN.WORKFLOWENACTMENT -f WORKFLOWENACTMENT.mq\n`}</code></pre>\n      </li>\n    </ul>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}