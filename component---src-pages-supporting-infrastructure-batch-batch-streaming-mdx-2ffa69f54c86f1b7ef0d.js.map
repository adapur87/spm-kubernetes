{"version":3,"sources":["webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.js","webpack:///./node_modules/gatsby-theme-carbon/src/templates/Default.js","webpack:///./src/pages/supporting-infrastructure/batch/batch-streaming.mdx","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.module.scss"],"names":["PageHeader","title","tabs","className","cx","pageHeader","withTabs","length","id","text","EditLink","relativePagePath","repositoryProp","repository","site","siteMetadata","baseUrl","subDirectory","href","branch","row","link","PageTabs","render","this","props","slug","currentTab","split","filter","Boolean","slice","pageTabs","map","tab","slugifiedTab","slugify","lower","strict","selected","currentTabRegex","RegExp","replace","key","selectedItem","listItem","to","tabsContainer","list","React","Component","Default","pageContext","children","location","Title","frontmatter","titleType","theme","description","keywords","pathPrefix","pathname","Layout","homepage","pageTitle","pageDescription","pageKeywords","label","Main","padded","NextPrevious","Utils","_frontmatter","makeShortcode","name","console","warn","Caption","InlineNotification","Tabs","Tab","Row","Column","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","isMDXComponent","module","exports"],"mappings":"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","file":"component---src-pages-supporting-infrastructure-batch-batch-streaming-mdx-2ffa69f54c86f1b7ef0d.js","sourcesContent":["import PageHeader from './PageHeader';\n\nexport default PageHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { pageHeader, withTabs, text } from './PageHeader.module.scss';\n\nconst PageHeader = ({ title, tabs = [] }) => (\n  <div className={cx(pageHeader, { [withTabs]: tabs.length })}>\n    <div className=\"bx--grid\">\n      <div className=\"bx--row\">\n        <div className=\"bx--col-lg-12\">\n          <h1 id=\"page-title\" className={text}>\n            {title}\n          </h1>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nPageHeader.propTypes = {\n  /**\n   * Specify the title for the page\n   */\n  title: PropTypes.node,\n};\n\nexport default PageHeader;\n","import EditLink from './EditLink';\n\nexport default EditLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { graphql, useStaticQuery } from 'gatsby';\n\nimport { link, row } from './EditLink.module.scss';\n\nconst EditLink = ({ relativePagePath, repository: repositoryProp }) => {\n  const {\n    site: {\n      siteMetadata: { repository },\n    },\n  } = useStaticQuery(graphql`\n    query REPOSITORY_QUERY {\n      site {\n        siteMetadata {\n          repository {\n            baseUrl\n            subDirectory\n            branch\n          }\n        }\n      }\n    }\n  `);\n\n  const { baseUrl, subDirectory, branch } = repositoryProp || repository;\n\n  const href = `${baseUrl}/edit/${branch}${subDirectory}/src/pages${relativePagePath}`;\n\n  return baseUrl ? (\n    <div className={`bx--row ${row}`}>\n      <div className=\"bx--col\">\n        <a className={link} href={href}>\n          Edit this page on GitHub\n        </a>\n      </div>\n    </div>\n  ) : null;\n};\n\nEditLink.propTypes = {\n  repository: PropTypes.shape({\n    baseUrl: PropTypes.string,\n    subDirectory: PropTypes.string,\n    branch: PropTypes.string,\n  }),\n  relativePagePath: PropTypes.string,\n};\n\nexport default EditLink;\n","import PageTabs from './PageTabs';\n\nexport default PageTabs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'gatsby';\nimport slugify from 'slugify';\nimport cx from 'classnames';\n\nimport {\n  tabsContainer,\n  list,\n  selectedItem,\n  listItem,\n  link,\n} from './PageTabs.module.scss';\n\nexport default class PageTabs extends React.Component {\n  render() {\n    const { tabs, slug } = this.props;\n    const currentTab = slug.split('/').filter(Boolean).slice(-1)[0];\n\n    const pageTabs = tabs.map((tab) => {\n      const slugifiedTab = slugify(tab, { lower: true, strict: true });\n      const selected = slugifiedTab === currentTab;\n      // matches with or without trailing slash: /?\n      // matches with or without hash link: (#.*)?\n      const currentTabRegex = new RegExp(`${currentTab}/?(#.*)?$`);\n      const href = slug.replace(currentTabRegex, slugifiedTab);\n      return (\n        <li key={tab} className={cx({ [selectedItem]: selected }, listItem)}>\n          <Link className={link} to={`${href}`}>\n            {tab}\n          </Link>\n        </li>\n      );\n    });\n\n    return (\n      <div className={tabsContainer}>\n        <div className=\"bx--grid\">\n          <div className=\"bx--row\">\n            <div className=\"bx--col-lg-12 bx--col-no-gutter\">\n              <nav>\n                <ul className={list}>{pageTabs}</ul>\n              </nav>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nPageTabs.propTypes = {\n  tabs: PropTypes.array,\n  slug: PropTypes.string,\n};\n","import React from 'react';\nimport slugify from 'slugify';\nimport { useStaticQuery, graphql } from 'gatsby';\n\nimport Utils from '../components/Utils';\nimport Layout from '../components/Layout';\nimport PageHeader from '../components/PageHeader';\nimport EditLink from '../components/EditLink';\nimport NextPrevious from '../components/NextPrevious';\nimport PageTabs from '../components/PageTabs';\nimport Main from '../components/Main';\n\nconst Default = ({ pageContext, children, location, Title }) => {\n  const { frontmatter = {}, relativePagePath, titleType } = pageContext;\n  const { tabs, title, theme, description, keywords } = frontmatter;\n\n  // get the path prefix if it exists\n  const {\n    site: { pathPrefix },\n  } = useStaticQuery(graphql`\n    query PATH_PREFIX_QUERY {\n      site {\n        pathPrefix\n      }\n    }\n  `);\n\n  // let gatsby handle prefixing\n  const slug = pathPrefix\n    ? location.pathname.replace(pathPrefix, '')\n    : location.pathname;\n\n  const getCurrentTab = () => {\n    if (!tabs) return '';\n    return (\n      slug.split('/').filter(Boolean).slice(-1)[0] ||\n      slugify(tabs[0], { lower: true })\n    );\n  };\n\n  const currentTab = getCurrentTab();\n\n  return (\n    <Layout\n      tabs={tabs}\n      homepage={false}\n      theme={theme}\n      pageTitle={title}\n      pageDescription={description}\n      pageKeywords={keywords}\n      titleType={titleType}>\n      <PageHeader title={Title ? <Title /> : title} label=\"label\" tabs={tabs} />\n      {tabs && <PageTabs slug={slug} tabs={tabs} currentTab={currentTab} />}\n      <Main padded>\n        {children}\n        <EditLink relativePagePath={relativePagePath} />\n      </Main>\n      <NextPrevious\n        pageContext={pageContext}\n        location={location}\n        slug={slug}\n        tabs={tabs}\n        currentTab={currentTab}\n      />\n      <Utils />\n    </Layout>\n  );\n};\n\nexport default Default;\n","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/travis/build/IBM/spm-kubernetes/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst Caption = makeShortcode(\"Caption\");\nconst InlineNotification = makeShortcode(\"InlineNotification\");\nconst Tabs = makeShortcode(\"Tabs\");\nconst Tab = makeShortcode(\"Tab\");\nconst Row = makeShortcode(\"Row\");\nconst Column = makeShortcode(\"Column\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h2>{`How batch streaming is deployed in Kubernetes`}</h2>\n    <p>{`IBM® Cúram Social Program Management (SPM) on Kubernetes supports a different model for batch processing in IKS, where, as outlined earlier, SPM batch processing can be built and deployed into its own pod.\nBy running SPM batch processing in its own pod, the pod can leverage the benefits of flexibility, elasticity, efficiency and the strategic value offered by cloud native architecture.`}</p>\n    <h3>{`What is batch streaming?`}</h3>\n    <p>{`The batch streaming infrastructure provides a straightforward mechanism to implement a batch process so that it can be run in parallel (streams) across multiple pods.\nFor example, if we wanted to issue payments, the chunker identifies all the cases to be paid and the stream would process a case and issue the payments that are due.`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"702px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"54.513888888888886%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAAB20lEQVQoz1WSXW/TMBSG8/8lfgBCIEBo3CBt46KDcYEmARtsrdqmab6z5stxSps2X47j2AnHdCvj6L3wxXns97zHyiKkOmKgZdQYYWkEuR3tzCDzknKV1ve4clDpp7WDKi166DxK0WNmYW5hYaH6xUV+8iWxTXWpaYSQYRjijH2ek4LwqiaLgJhJZyBqJoB0QClLCQsDdUZYGEEbbTgwfS8FZYX5+6t4W9C8qKdergV0GXZa2AJi40ExEHPXAt6febsDACV6Kah9Sb0oaxmvGwY9ZlpMA+/rdPJNm2sIKXceHa86M25UJ+np76mbndw0E3t3rUa063vR5fsMrJQEQmF6ii9/jM5Gpx8/nf5yxsr5uDobN2qY31lxL8itWz27KG7N7PvMb5hou2FdDoz3FWkP8Pnow9uXr969eX2t/1RmfqvF3EDtzM3AKvRRYPhAufRtIfL8cm1EdUPhZWriWovwzdIZOys92T7OjDrV2/fHoWVm8uzj4mq+ntibfV5N3f0iaCCtRUBlYOkgV2VjbmKuhxXn/SHn/jGwsmaqu013FGxrYQPredyT1L89gzchxPB/MdZu0kTeIgOjdir+Nj/oCHMjpveoWMHHeiIfV+Ga+Lh04wIGfEqC/gDSdlfqMHsS6QAAAABJRU5ErkJggg==')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<picture parentName=\"span\">{`\n        `}<source parentName=\"picture\" {...{\n          \"srcSet\": [\"/spm-kubernetes/static/2d95d0591a546fe9893ff6179ac54d2d/0eda2/spm_batch_processing_on_kubernetes.webp 288w\", \"/spm-kubernetes/static/2d95d0591a546fe9893ff6179ac54d2d/460e2/spm_batch_processing_on_kubernetes.webp 576w\", \"/spm-kubernetes/static/2d95d0591a546fe9893ff6179ac54d2d/6a980/spm_batch_processing_on_kubernetes.webp 702w\"],\n          \"sizes\": \"(max-width: 702px) 100vw, 702px\",\n          \"type\": \"image/webp\"\n        }}></source>{`\n        `}<source parentName=\"picture\" {...{\n          \"srcSet\": [\"/spm-kubernetes/static/2d95d0591a546fe9893ff6179ac54d2d/7fc1e/spm_batch_processing_on_kubernetes.png 288w\", \"/spm-kubernetes/static/2d95d0591a546fe9893ff6179ac54d2d/a5df1/spm_batch_processing_on_kubernetes.png 576w\", \"/spm-kubernetes/static/2d95d0591a546fe9893ff6179ac54d2d/254b8/spm_batch_processing_on_kubernetes.png 702w\"],\n          \"sizes\": \"(max-width: 702px) 100vw, 702px\",\n          \"type\": \"image/png\"\n        }}></source>{`\n        `}<img parentName=\"picture\" {...{\n          \"className\": \"gatsby-resp-image-image\",\n          \"src\": \"/spm-kubernetes/static/2d95d0591a546fe9893ff6179ac54d2d/254b8/spm_batch_processing_on_kubernetes.png\",\n          \"alt\": \"spm batch on kubernetes\",\n          \"title\": \"spm batch on kubernetes\",\n          \"loading\": \"lazy\",\n          \"style\": {\n            \"width\": \"100%\",\n            \"height\": \"100%\",\n            \"margin\": \"0\",\n            \"verticalAlign\": \"middle\",\n            \"position\": \"absolute\",\n            \"top\": \"0\",\n            \"left\": \"0\"\n          }\n        }}></img>{`\n      `}</picture>{`\n    `}</span>\n    <Caption mdxType=\"Caption\">\n      <p><em parentName=\"p\">{`Figure 1:`}</em>{` SPM batch processing on kubernetes`}</p>\n    </Caption>\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p><strong parentName=\"p\">{`Note:`}</strong>{` For more information, see `}<a parentName=\"p\" {...{\n          \"href\": \"https://www.ibm.com/support/knowledgecenter/SS8S5A_7.0.10/com.ibm.curam.content.doc/BatchPerformanceMechanisms/c_BATCHPER_Architecture1AdditionalInformation1.html\"\n        }}>{`Batch Streaming Architecture`}</a></p>\n    </InlineNotification>\n    <h2>{`Setting up Batch Streaming with Helm`}</h2>\n    <p>{`Streamed jobs may be scheduled using Helm the same way as standalone Batch jobs.`}</p>\n    <p>{`In your override values file, add a section under the `}<inlineCode parentName=\"p\">{`batch.streamed`}</inlineCode>{` key for each of the streamed jobs to be scheduled.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`batch:\n  streamed:\n    cash_reassessment:\n      schedule: \"0 1 * * *\"\n      chunker:\n        className: curam.core.sl.infrastructure.assessment.intf.CREOLEBulkCaseChunkReassessmentByProduct.process\n        parameters: productID=4100\n        replicaCount: 1\n      stream:\n        className: curam.core.sl.infrastructure.assessment.intf.CREOLEBulkCaseChunkReassessmentStream.process\n        replicaCount: 1\n    food_reassessment:\n      schedule: \"0 2 * * */2\"\n      chunker:\n        className: curam.core.sl.infrastructure.assessment.intf.CREOLEBulkCaseChunkReassessmentByProduct.process\n        parameters: productID=4200\n        replicaCount: 1\n      stream:\n        className: curam.core.sl.infrastructure.assessment.intf.CREOLEBulkCaseChunkReassessmentStream.process\n        replicaCount: 1\n`}</code></pre>\n    <p>{`This example schedules Cash Assistance bulk reassessment to run at 1 AM every night, and Food Assistance bulk reassessment to run at 2 AM every second night.`}</p>\n    <p>{`The `}<inlineCode parentName=\"p\">{`cash_reassessment`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`food_reassessment`}</inlineCode>{` keys have no special meaning - their purpose is to provide separate definitions of different batch jobs.\nThese keys are used in names of the CronJob objects, e.g. `}<inlineCode parentName=\"p\">{`<releaseName>-batch-food-reassessment-chunker`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`<releaseName>-batch-food-reassessment-stream`}</inlineCode></p>\n    <p>{`A complete list of configurable options for the chunkers and streams is available on the Helm `}<a parentName=\"p\" {...{\n        \"href\": \"/spm-kubernetes/deployment/config-reference#batch-jobs\"\n      }}>{`Configuration Reference`}</a>{` page.`}</p>\n    <h2>{`Ad-hoc execution of Batch Streaming jobs`}</h2>\n    <p>{`An example for the steps required to set up Batch Streaming is outlined as follows.\nThis example uses the bulk reassessment of food assistance case types.`}</p>\n    <p>{`The first stage is to set up a new YAML file for the streaming and chunking batch processing.`}</p>\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p><strong parentName=\"p\">{`Note:`}</strong>{` No SPM default installation settings were changed.`}</p>\n    </InlineNotification>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`kubectl create job --from=cronjob/\\${release_name}-batch-queued \\\\\n       -n $namespace -o yaml --dry-run=client process_name > process_name.yaml\n`}</code></pre>\n    <p>{`Where:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`namespace`}</inlineCode>{` is the namespace where you want to run the batch processing`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`release_name`}</inlineCode>{` is the name of the release you are using`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`process_name`}</inlineCode>{` is the name of the batch process you are creating`}</li>\n    </ul>\n    <p>{`You should also create a new file for each process, for example `}<inlineCode parentName=\"p\">{`stream_foodassistance.yaml`}</inlineCode>{`, and `}<inlineCode parentName=\"p\">{`chunker_foodassistance.yaml`}</inlineCode></p>\n    <p>{`A corresponding YAML file is created. Open it with your preferred editor and add the following lines to the `}<inlineCode parentName=\"p\">{`spec.template.spec.containers[0]`}</inlineCode>{` section:`}</p>\n    <Tabs mdxType=\"Tabs\">\n      <Tab label=\"Chunker\" mdxType=\"Tab\">\n        <Row mdxType=\"Row\">\n          <Column mdxType=\"Column\">\n            <pre><code parentName=\"pre\" {...{\n                \"className\": \"language-yaml\"\n              }}>{`args:\n- -Dbatch.program=curam.core.sl.infrastructure.assessment.intf.CREOLEBulkCaseChunkReassessmentByProduct.process\n- -Dbatch.parameters=\"productID=4200\"\n`}</code></pre>\n            <p><strong parentName=\"p\">{`Note:`}</strong>{` The `}<inlineCode parentName=\"p\">{`args`}</inlineCode>{` key should become a sibling of the `}<inlineCode parentName=\"p\">{`command`}</inlineCode>{` key.`}</p>\n          </Column>\n        </Row>\n      </Tab>\n      <Tab label=\"Stream\" mdxType=\"Tab\">\n        <Row mdxType=\"Row\">\n          <Column mdxType=\"Column\">\n            <pre><code parentName=\"pre\" {...{\n                \"className\": \"language-yaml\"\n              }}>{`args:\n- -Dbatch.program=curam.core.sl.infrastructure.assessment.intf.CREOLEBulkCaseChunkReassessmentStream.process\n`}</code></pre>\n            <p><strong parentName=\"p\">{`Note:`}</strong>{` The `}<inlineCode parentName=\"p\">{`args`}</inlineCode>{` key should become a sibling of the `}<inlineCode parentName=\"p\">{`command`}</inlineCode>{` key.`}</p>\n          </Column>\n        </Row>\n      </Tab>\n    </Tabs>\n    <p>{`You should now have YAML files for a chunker and streamer for bulk reassessment of food assistance case types.`}</p>\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p>{`Newer versions of `}<inlineCode parentName=\"p\">{`kubectl`}</inlineCode>{` add a `}<inlineCode parentName=\"p\">{`metadata.ownerReferences`}</inlineCode>{` field to the output of `}<inlineCode parentName=\"p\">{`kubectl create job --from=...`}</inlineCode>{`.\nThis field must be removed before creating the new jobs from these YAML files.`}</p>\n    </InlineNotification>\n    <h3>{`Running batch streaming yaml files`}</h3>\n    <p>{`To orchestrate the batch process, run the following command and repeat for the chunker and streamer.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`kubectl create -f stream_foodassistance.yaml -n $namespace\nkubectl create -f chunker_foodassistance.yaml -n $namespace\n`}</code></pre>\n    <h3>{`Post batch processing`}</h3>\n    <p>{`The batch pods that are created for batch streaming are on demand.`}</p>\n    <p>{`When the batch processes finish, the pods remain in a `}<inlineCode parentName=\"p\">{`completed`}</inlineCode>{` state.\nWhile this does not consume CPU or Memory resources on the worker nodes of your cluster, this may place added pressure on the Kubernetes API server`}</p>\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p>{`A `}<a parentName=\"p\" {...{\n          \"href\": \"https://kubernetes.io/docs/concepts/workloads/controllers/ttlafterfinished/\"\n        }}>{`TTL Controller for Finished Resources`}</a>{` is available in Kubernetes, which will automatically clean up any completed pods after a specified length of time.\nHowever, this feature is in Alpha state and has to be enabled using a feature flag on both the `}<inlineCode parentName=\"p\">{`kube-apiserver`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`kube-controller-manager`}</inlineCode>{`.`}</p>\n      <p><strong parentName=\"p\">{`Note:`}</strong>{` It is not recommended to use Alpha features in a production environment.`}</p>\n    </InlineNotification>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"EditLink-module--bx--text-truncate--end--2pqje\",\"bxTextTruncateFront\":\"EditLink-module--bx--text-truncate--front--3_lIE\",\"link\":\"EditLink-module--link--1qzW3\",\"row\":\"EditLink-module--row--1B9Gk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageTabs-module--bx--text-truncate--end--267NA\",\"bxTextTruncateFront\":\"PageTabs-module--bx--text-truncate--front--3xEQF\",\"tabsContainer\":\"PageTabs-module--tabs-container--8N4k0\",\"list\":\"PageTabs-module--list--3eFQc\",\"listItem\":\"PageTabs-module--list-item--nUmtD\",\"link\":\"PageTabs-module--link--1mDJ1\",\"selectedItem\":\"PageTabs-module--selected-item--YPVr3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageHeader-module--bx--text-truncate--end--mZWeX\",\"bxTextTruncateFront\":\"PageHeader-module--bx--text-truncate--front--3zvrI\",\"pageHeader\":\"PageHeader-module--page-header--3hIan\",\"withTabs\":\"PageHeader-module--with-tabs--3nKxA\",\"text\":\"PageHeader-module--text--o9LFq\"};"],"sourceRoot":""}